---
layout: page
---
{{ content }}

<!-- Books Section -->
<h2><i class="fa-solid fa-book"></i> Books</h2>

{% if page.collection and page.collection.size > 0 %}
  {% assign collection = site[page.collection] %}
  {% if collection and collection.size > 0 %}
    <div class="library-grid">
      {% for item in collection reversed %}
        <div class="library-card">
          <div class="library-cover">
            {% if item.cover %}
              <img alt="{{ item.title }} cover" src="{{ item.cover | relative_url }}">
            {% elsif item.olid %}
              <img alt="{{ item.title }} cover" src="https://covers.openlibrary.org/b/olid/{{ item.olid }}-L.jpg?default=false">
            {% elsif item.isbn %}
              <img alt="{{ item.title }} cover" src="https://covers.openlibrary.org/b/isbn/{{ item.isbn }}-L.jpg?default=false">
            {% endif %}
          </div>
          <div class="library-info">
            <strong class="library-title">{{ item.title }}</strong>
            {% if item.author %}
              <span class="library-subtitle">{{ item.author }}</span>
            {% endif %}
            {% if item.stars %}
              <span class="library-stars">
                {% assign full_stars = item.stars | floor %}
                {% assign half_star = item.stars | minus: full_stars %}
                {% assign empty_stars = 5 | minus: full_stars %}
                {% if half_star > 0 %}
                  {% assign empty_stars = empty_stars | minus: 1 %}
                {% endif %}
                {% for i in (1..full_stars) -%}
                  <i class="fa-solid fa-star fa-sm"></i>
                {%- endfor -%}
                {%- if half_star > 0 %}<i class="fa-solid fa-star-half-stroke fa-sm"></i>{% endif -%}
                {%- for i in (1..empty_stars) -%}
                  <i class="fa-regular fa-star fa-sm"></i>
                {%- endfor %}
              </span>
            {% endif %}
            {% if item.buy_link %}
              <a class="library-link" href="{{ item.buy_link }}" target="_blank" rel="noopener noreferrer">
                <i class="fa-solid fa-cart-shopping"></i> Amazon
              </a>
            {% endif %}
          </div>
        </div>
      {% endfor %}
    </div>
  {% endif %}
{% endif %}

<!-- Podcasts Section -->
{% if site.data.podcasts and site.data.podcasts.size > 0 %}
  <h2 style="margin-top: 2.5rem;"><i class="fa-solid fa-podcast"></i> Podcasts</h2>
  <div class="library-grid podcast-grid">
    {% for pod in site.data.podcasts %}
      <div class="library-card podcast-card">
        <div class="podcast-cover">
          {% if pod.image %}
            <img alt="{{ pod.title }} artwork" src="{{ pod.image }}">
          {% else %}
            <div class="podcast-icon">
              <i class="fa-solid fa-microphone-lines"></i>
            </div>
          {% endif %}
        </div>
        <div class="library-info">
          <strong class="library-title">{{ pod.title }}</strong>
          {% if pod.host %}
            <span class="library-subtitle">{{ pod.host }}</span>
          {% endif %}
          {% if pod.description %}
            <span class="podcast-desc">{{ pod.description }}</span>
          {% endif %}
          {% if pod.link %}
            <a class="library-link" href="{{ pod.link }}" target="_blank" rel="noopener noreferrer">
              <i class="fa-solid fa-headphones"></i> Listen
            </a>
          {% endif %}
        </div>
      </div>
    {% endfor %}
  </div>
{% endif %}

<style>
  .library-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
    gap: 1.5rem;
    margin-top: 1rem;
  }
  .library-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
  }
  .library-cover img {
    height: 240px;
    width: auto;
    border-radius: 4px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
  }
  .library-info {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
    margin-top: 0.5rem;
  }
  .library-title {
    font-size: 0.95rem;
  }
  .library-subtitle {
    font-size: 0.85rem;
    opacity: 0.7;
  }
  .library-stars {
    color: #f5c518;
    font-size: 0.85rem;
  }
  .library-link {
    font-size: 0.8rem;
    margin-top: 0.25rem;
  }
  /* Podcast cards */
  .podcast-grid {
    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
  }
  .podcast-cover img {
    width: 140px;
    height: 140px;
    border-radius: 16px;
    object-fit: cover;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
  }
  .podcast-icon {
    width: 140px;
    height: 140px;
    border-radius: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2.5rem;
    background: var(--global-theme-color, #6c63ff);
    color: #fff;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.12);
  }
  .podcast-desc {
    font-size: 0.78rem;
    opacity: 0.6;
    line-height: 1.3;
  }
</style>
